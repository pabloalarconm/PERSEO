#!/bin/bash
declare -a Models=(
    "Birthdate" "Birthyear" "Deathdate" "First_visit" "Status" "Sex" "Education" "Disability" "Diagnosis" "Phenotype" "Symptoms_onset" "Laboratory" "Body_measurement" "Imaging" "Genetic" "Medication" "Surgery" "Biobank" "Clinical_trial" "Questionnaire"
)

# Loop through the array elements
for val in "${Models[@]}"; 
do
    # Use curl to GET the URL
    curl -X GET "http://127.0.0.1:4567/${val}"
    
    # Apply permissions only if necessary
    sudo chmod -R 777 .

    if ! curl -X GET "http://127.0.0.1:4567/${val}"; then
    echo "Failed to reach ${val}"
    fi

done

sudo chmod -R 777 .

# for val in ${Models[@]}; 
# do
#     # Use Web tool to obtain RDF-based CSV to create Image:
#     curl -X POST "http://178.63.49.197:5000/draw-io-utils/turtle-to-csv" -H "accept: text/csv" -H "Content-Type: multipart/form-data" -F "file=@${PWD}/data/triples/${val}.nq;type=text/turtle" > ${PWD}/drawio/${val}.csv
# done